*** dwm.c.orig  2026-01-29 18:00:00
--- dwm.c       2026-01-29 18:05:00
***************
*** 23,23 ****
--- 23,24 ----
+#include <X11/XF86keysym.h>
***************
*** 1809,1815 ****
-   if ((c = wintoclient(ev->window))) {
-       if (ev->send_event)
-           setclientstate(c, WithdrawnState);
-       else
-           unmanage(c, 0);
-   }
--- 1809,1817 ----
+   /* Patch start: Override-redirect windows (like Krita on-canvas color selector) */
+   } else if (XGetWindowAttributes(dpy, ev->window, &wa) && wa.override_redirect) {
+       /* Handle override-redirect windows (like Krita on-canvas color selector) */
+       if (selmon->sel)
+           focus(selmon->sel);
+   /* Patch end here */
+   } else if ((c = wintoclient(ev->window))) {
+       if (ev->send_event)
+           setclientstate(c, WithdrawnState);
+       else
+           unmanage(c, 0);
+   }
